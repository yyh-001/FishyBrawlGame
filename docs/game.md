根据游戏规则，我们可以将需求细化为以下步骤，以便逐步完善游戏：

### 一、基础规则

1. **参与人数**
   - 确保游戏支持8名玩家参与。
   - 实现玩家加入和退出机制。

2. **游戏阶段**
   - 实现准备阶段和战斗阶段的切换。
   - 在准备阶段，允许玩家进行购买随从、升级酒馆、调整站位、使用英雄技能等操作。
   - 在战斗阶段，自动进行战斗，玩家无法干预。

### 二、核心机制

1. **酒馆等级**
   - 初始化酒馆等级为1级，最高为6级。
   - 实现随等级提升而增加的升级费用机制。

2. **金币管理**
   - 每回合开始时，玩家获得固定金币。
   - 实现金币的使用：购买随从、刷新酒馆、冻结酒馆、升级酒馆、出售随从。

3. **随从招募**
   - 实现酒馆每回合刷新随从池。
   - 允许玩家购买随从并放置到场上，最多7个随从。
   - 实现种族协同效果。

4. **三连机制**
   - 实现购买3个同名随从自动合成金色随从的机制。

### 三、战斗机制

1. **战斗流程**
   - 实现随从按站位顺序从左到右交替攻击。
   - 确保攻击目标的随机性和优先攻击嘲讽随从的机制。

2. **伤害计算**
   - 实现战败方根据敌方存活随从的酒馆等级总和和当前回合数加成受到伤害的机制。

3. **特殊关键词**
   - 实现嘲讽、圣盾、亡语、复生、磁力等特殊效果。

### 四、英雄与技能

1. **英雄选择**
   - 实现每局开始前玩家从随机提供的3名英雄中选择1名的机制。

2. **技能策略**
   - 实现不同英雄技能的效果和消耗机制。

### 五、胜利条件

1. **胜利判定**
   - 实现当仅剩1名玩家存活时游戏结束的机制。
   - 实现所有其他玩家生命值归零时游戏结束的机制。
